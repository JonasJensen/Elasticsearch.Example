/*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 0.14.3 - 2015-10-23
 * License: MIT
 */
angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.typeahead","ui.bootstrap.position"]),angular.module("ui.bootstrap.tpls",["template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(a){var n=a.match(t);if(!n)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+a+'".');return{itemName:n[3],source:e(n[4]),viewMapper:e(n[2]||n[1]),modelMapper:e(n[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","uibTypeaheadParser",function(e,t,a,n,i,o,r,p,l,s,c,d){function u(){B.moveInProgress||(B.moveInProgress=!0,B.$digest()),_&&r.cancel(_),_=r(function(){B.matches.length&&h(),B.moveInProgress=!1},v)}function h(){B.position=U?c.offset(t):c.position(t),B.position.top+=t.prop("offsetHeight")}var f,m,g=[9,13,27,38,40],v=200,$=e.$eval(a.typeaheadMinLength);$||0===$||($=1);var y,b,w=e.$eval(a.typeaheadWaitMs)||0,x=e.$eval(a.typeaheadEditable)!==!1,I=i(a.typeaheadLoading).assign||angular.noop,P=i(a.typeaheadOnSelect),S=angular.isDefined(a.typeaheadSelectOnBlur)?e.$eval(a.typeaheadSelectOnBlur):!1,M=i(a.typeaheadNoResults).assign||angular.noop,T=a.typeaheadInputFormatter?i(a.typeaheadInputFormatter):void 0,U=a.typeaheadAppendToBody?e.$eval(a.typeaheadAppendToBody):!1,O=a.typeaheadAppendToElementId||!1,q=e.$eval(a.typeaheadFocusFirst)!==!1,E=a.typeaheadSelectOnExact?e.$eval(a.typeaheadSelectOnExact):!1,k=i(a.ngModel),A=i(a.ngModel+"($$$p)"),V=function(t,a){return angular.isFunction(k(e))&&m&&m.$options&&m.$options.getterSetter?A(t,{$$$p:a}):k.assign(t,a)},W=d.parse(a.uibTypeahead),B=e.$new(),F=e.$on("$destroy",function(){B.$destroy()});B.$on("$destroy",F);var H="typeahead-"+B.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":H});var C=angular.element("<div uib-typeahead-popup></div>");C.attr({id:H,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(a.typeaheadTemplateUrl)&&C.attr("template-url",a.typeaheadTemplateUrl),angular.isDefined(a.typeaheadPopupTemplateUrl)&&C.attr("popup-template-url",a.typeaheadPopupTemplateUrl);var N=function(){B.matches=[],B.activeIdx=-1,t.attr("aria-expanded",!1)},z=function(e){return H+"-option-"+e};B.$watch("activeIdx",function(e){0>e?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",z(e))});var D=function(e,t){return B.matches.length>t&&e?e.toUpperCase()===B.matches[t].label.toUpperCase():!1},R=function(a){var n={$viewValue:a};I(e,!0),M(e,!1),o.when(W.source(e,n)).then(function(i){var o=a===f.$viewValue;if(o&&y)if(i&&i.length>0){B.activeIdx=q?0:-1,M(e,!1),B.matches.length=0;for(var r=0;r<i.length;r++)n[W.itemName]=i[r],B.matches.push({id:z(r),label:W.viewMapper(B,n),model:i[r]});B.query=a,h(),t.attr("aria-expanded",!0),E&&1===B.matches.length&&D(a,0)&&B.select(0)}else N(),M(e,!0);o&&I(e,!1)},function(){N(),I(e,!1),M(e,!0)})};U&&(angular.element(l).bind("resize",u),p.find("body").bind("scroll",u));var _;B.moveInProgress=!1,B.query=void 0;var L,j=function(e){L=r(function(){R(e)},w)},X=function(){L&&r.cancel(L)};N(),B.select=function(n){var i,o,p={};b=!0,p[W.itemName]=o=B.matches[n].model,i=W.modelMapper(e,p),V(e,i),f.$setValidity("editable",!0),f.$setValidity("parse",!0),P(e,{$item:o,$model:i,$label:W.viewMapper(e,p)}),N(),B.$eval(a.typeaheadFocusOnSelect)!==!1&&r(function(){t[0].focus()},0,!1)},t.bind("keydown",function(e){if(0!==B.matches.length&&-1!==g.indexOf(e.which)){if(-1===B.activeIdx&&(9===e.which||13===e.which))return N(),void B.$digest();e.preventDefault(),40===e.which?(B.activeIdx=(B.activeIdx+1)%B.matches.length,B.$digest()):38===e.which?(B.activeIdx=(B.activeIdx>0?B.activeIdx:B.matches.length)-1,B.$digest()):13===e.which||9===e.which?B.$apply(function(){B.select(B.activeIdx)}):27===e.which&&(e.stopPropagation(),N(),B.$digest())}}),t.bind("blur",function(){S&&B.matches.length&&-1!==B.activeIdx&&!b&&(b=!0,B.$apply(function(){B.select(B.activeIdx)})),y=!1,b=!1});var Y=function(e){t[0]!==e.target&&3!==e.which&&0!==B.matches.length&&(N(),s.$$phase||B.$digest())};p.bind("click",Y),e.$on("$destroy",function(){p.unbind("click",Y),(U||O)&&G.remove(),U&&(angular.element(l).unbind("resize",u),p.find("body").unbind("scroll",u)),C.remove()});var G=n(C)(B);U?p.find("body").append(G):O!==!1?angular.element(p[0].getElementById(O)).append(G):t.after(G),this.init=function(t,a){f=t,m=a,f.$parsers.unshift(function(t){return y=!0,0===$||t&&t.length>=$?w>0?(X(),j(t)):R(t):(I(e,!1),X(),N()),x?t:t?void f.$setValidity("editable",!1):(f.$setValidity("editable",!0),null)}),f.$formatters.push(function(t){var a,n,i={};return x||f.$setValidity("editable",!0),T?(i.$model=t,T(e,i)):(i[W.itemName]=t,a=W.viewMapper(e,i),i[W.itemName]=void 0,n=W.viewMapper(e,i),a!==n?a:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(e,t,a,n){n[2].init(n[0],n[1])}}}).directive("uibTypeaheadPopup",function(){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(e,t,a){e.templateUrl=a.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,a){return{scope:{index:"=",match:"=",query:"="},link:function(n,i,o){var r=a(o.templateUrl)(n.$parent)||"template/typeahead/typeahead-match.html";e(r).then(function(e){t(e.trim())(n,function(e){i.replaceWith(e)})})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,a){function n(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function i(e){return/<.*>/g.test(e)}var o;return o=t.has("$sanitize"),function(t,r){return!o&&i(t)&&a.warn("Unsafe use of typeahead please use ngSanitize"),t=r?(""+t).replace(new RegExp(n(r),"gi"),"<strong>$&</strong>"):t,o||(t=e.trustAsHtml(t)),t}}]),angular.module("ui.bootstrap.typeahead").value("$typeaheadSuppressWarning",!1).service("typeaheadParser",["$parse","uibTypeaheadParser","$log","$typeaheadSuppressWarning",function(e,t,a,n){return n||a.warn("typeaheadParser is now deprecated. Use uibTypeaheadParser instead."),t}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","typeaheadParser","$log","$typeaheadSuppressWarning",function(e,t,a,n,i,o,r,p,l,s,c){var d=[9,13,27,38,40],u=200;return{require:["ngModel","^?ngModelOptions"],link:function(h,f,m,g){function v(){C.moveInProgress||(C.moveInProgress=!0,C.$digest()),X&&n.cancel(X),X=n(function(){C.matches.length&&$(),C.moveInProgress=!1},u)}function $(){C.position=E?p.offset(f):p.position(f),C.position.top+=f.prop("offsetHeight")}c||s.warn("typeahead is now deprecated. Use uib-typeahead instead.");var y=g[0],b=g[1],w=h.$eval(m.typeaheadMinLength);w||0===w||(w=1);var x,I,P=h.$eval(m.typeaheadWaitMs)||0,S=h.$eval(m.typeaheadEditable)!==!1,M=t(m.typeaheadLoading).assign||angular.noop,T=t(m.typeaheadOnSelect),U=angular.isDefined(m.typeaheadSelectOnBlur)?h.$eval(m.typeaheadSelectOnBlur):!1,O=t(m.typeaheadNoResults).assign||angular.noop,q=m.typeaheadInputFormatter?t(m.typeaheadInputFormatter):void 0,E=m.typeaheadAppendToBody?h.$eval(m.typeaheadAppendToBody):!1,k=m.typeaheadAppendToElementId||!1,A=h.$eval(m.typeaheadFocusFirst)!==!1,V=m.typeaheadSelectOnExact?h.$eval(m.typeaheadSelectOnExact):!1,W=t(m.ngModel),B=t(m.ngModel+"($$$p)"),F=function(e,t){return angular.isFunction(W(h))&&b&&b.$options&&b.$options.getterSetter?B(e,{$$$p:t}):W.assign(e,t)},H=l.parse(m.typeahead),C=h.$new(),N=h.$on("$destroy",function(){C.$destroy()});C.$on("$destroy",N);var z="typeahead-"+C.$id+"-"+Math.floor(1e4*Math.random());f.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":z});var D=angular.element("<div typeahead-popup></div>");D.attr({id:z,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(m.typeaheadTemplateUrl)&&D.attr("template-url",m.typeaheadTemplateUrl),angular.isDefined(m.typeaheadPopupTemplateUrl)&&D.attr("popup-template-url",m.typeaheadPopupTemplateUrl);var R=function(){C.matches=[],C.activeIdx=-1,f.attr("aria-expanded",!1)},_=function(e){return z+"-option-"+e};C.$watch("activeIdx",function(e){0>e?f.removeAttr("aria-activedescendant"):f.attr("aria-activedescendant",_(e))});var L=function(e,t){return C.matches.length>t&&e?e.toUpperCase()===C.matches[t].label.toUpperCase():!1},j=function(e){var t={$viewValue:e};M(h,!0),O(h,!1),a.when(H.source(h,t)).then(function(a){var n=e===y.$viewValue;if(n&&x)if(a&&a.length>0){C.activeIdx=A?0:-1,O(h,!1),C.matches.length=0;for(var i=0;i<a.length;i++)t[H.itemName]=a[i],C.matches.push({id:_(i),label:H.viewMapper(C,t),model:a[i]});C.query=e,$(),f.attr("aria-expanded",!0),V&&1===C.matches.length&&L(e,0)&&C.select(0)}else R(),O(h,!0);n&&M(h,!1)},function(){R(),M(h,!1),O(h,!0)})};E&&(angular.element(o).bind("resize",v),i.find("body").bind("scroll",v));var X;C.moveInProgress=!1,R(),C.query=void 0;var Y,G=function(e){Y=n(function(){j(e)},P)},J=function(){Y&&n.cancel(Y)};y.$parsers.unshift(function(e){return x=!0,0===w||e&&e.length>=w?P>0?(J(),G(e)):j(e):(M(h,!1),J(),R()),S?e:e?void y.$setValidity("editable",!1):(y.$setValidity("editable",!0),null)}),y.$formatters.push(function(e){var t,a,n={};return S||y.$setValidity("editable",!0),q?(n.$model=e,q(h,n)):(n[H.itemName]=e,t=H.viewMapper(h,n),n[H.itemName]=void 0,a=H.viewMapper(h,n),t!==a?t:e)}),C.select=function(e){var t,a,i={};I=!0,i[H.itemName]=a=C.matches[e].model,t=H.modelMapper(h,i),F(h,t),y.$setValidity("editable",!0),y.$setValidity("parse",!0),T(h,{$item:a,$model:t,$label:H.viewMapper(h,i)}),R(),C.$eval(m.typeaheadFocusOnSelect)!==!1&&n(function(){f[0].focus()},0,!1)},f.bind("keydown",function(e){if(0!==C.matches.length&&-1!==d.indexOf(e.which)){if(-1===C.activeIdx&&(9===e.which||13===e.which))return R(),void C.$digest();e.preventDefault(),40===e.which?(C.activeIdx=(C.activeIdx+1)%C.matches.length,C.$digest()):38===e.which?(C.activeIdx=(C.activeIdx>0?C.activeIdx:C.matches.length)-1,C.$digest()):13===e.which||9===e.which?C.$apply(function(){C.select(C.activeIdx)}):27===e.which&&(e.stopPropagation(),R(),C.$digest())}}),f.bind("blur",function(){U&&C.matches.length&&-1!==C.activeIdx&&!I&&(I=!0,C.$apply(function(){C.select(C.activeIdx)})),x=!1,I=!1});var K=function(e){f[0]!==e.target&&3!==e.which&&0!==C.matches.length&&(R(),r.$$phase||C.$digest())};i.bind("click",K),h.$on("$destroy",function(){i.unbind("click",K),(E||k)&&Q.remove(),E&&(angular.element(o).unbind("resize",v),i.find("body").unbind("scroll",v)),D.remove()});var Q=e(D)(C);E?i.find("body").append(Q):k!==!1?angular.element(i[0].getElementById(k)).append(Q):f.after(Q)}}}]).directive("typeaheadPopup",["$typeaheadSuppressWarning","$log",function(e,t){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(a,n,i){e||t.warn("typeahead-popup is now deprecated. Use uib-typeahead-popup instead."),a.templateUrl=i.templateUrl,a.isOpen=function(){return a.matches.length>0},a.isActive=function(e){return a.active==e},a.selectActive=function(e){a.active=e},a.selectMatch=function(e){a.select({activeIdx:e})}}}}]).directive("typeaheadMatch",["$templateRequest","$compile","$parse","$typeaheadSuppressWarning","$log",function(e,t,a,n,i){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(o,r,p){n||i.warn("typeahead-match is now deprecated. Use uib-typeahead-match instead.");var l=a(p.templateUrl)(o.$parent)||"template/typeahead/typeahead-match.html";e(l).then(function(e){t(e.trim())(o,function(e){r.replaceWith(e)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log","$typeaheadSuppressWarning",function(e,t,a,n){function i(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function o(e){return/<.*>/g.test(e)}var r;return r=t.has("$sanitize"),function(t,p){return n||a.warn("typeaheadHighlight is now deprecated. Use uibTypeaheadHighlight instead."),!r&&o(t)&&a.warn("Unsafe use of typeahead please use ngSanitize"),t=p?(""+t).replace(new RegExp(i(p),"gi"),"<strong>$&</strong>"):t,r||(t=e.trustAsHtml(t)),t}}]),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){function a(e,a){return e.currentStyle?e.currentStyle[a]:t.getComputedStyle?t.getComputedStyle(e)[a]:e.style[a]}function n(e){return"static"===(a(e,"position")||"static")}var i=function(t){for(var a=e[0],i=t.offsetParent||a;i&&i!==a&&n(i);)i=i.offsetParent;return i||a};return{position:function(t){var a=this.offset(t),n={top:0,left:0},o=i(t[0]);o!=e[0]&&(n=this.offset(angular.element(o)),n.top+=o.clientTop-o.scrollTop,n.left+=o.clientLeft-o.scrollLeft);var r=t[0].getBoundingClientRect();return{width:r.width||t.prop("offsetWidth"),height:r.height||t.prop("offsetHeight"),top:a.top-n.top,left:a.left-n.left}},offset:function(a){var n=a[0].getBoundingClientRect();return{width:n.width||a.prop("offsetWidth"),height:n.height||a.prop("offsetHeight"),top:n.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:n.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,a,n){var i,o,r,p,l=a.split("-"),s=l[0],c=l[1]||"center";i=n?this.offset(e):this.position(e),o=t.prop("offsetWidth"),r=t.prop("offsetHeight");var d={center:function(){return i.left+i.width/2-o/2},left:function(){return i.left},right:function(){return i.left+i.width}},u={center:function(){return i.top+i.height/2-r/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(s){case"right":p={top:u[c](),left:d[s]()};break;case"left":p={top:u[c](),left:i.left-o};break;case"bottom":p={top:u[s](),left:d[c]()};break;default:p={top:i.top-r,left:d[c]()}}return p}}}]),angular.module("ui.bootstrap.position").value("$positionSuppressWarning",!1).service("$position",["$log","$positionSuppressWarning","$uibPosition",function(e,t,a){t||e.warn("$position is now deprecated. Use $uibPosition instead."),angular.extend(this,a)}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | uibTypeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]);